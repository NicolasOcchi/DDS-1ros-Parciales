@startuml
'https://plantuml.com/class-diagram

class Cliente{
String nombre
String apellido
String email
String direccion
List<Orden> ordenes
ordenar(unaCaja): void
}

Cliente -->"*" Orden

class Orden{
Cliente cliente
Date fechaCreacion
Fabricante fabricante
CajaMusical cajita
String direccionEnvio
EstadoOrden estado
tiempoEstimadoFabricacion(): int
tiempoEstimadoTotal(): int
direccionEnvio(): string
precio(): int
getEstadoOrden(): EstadoOrden
}
Orden --> Fabricante
Orden --> CajaMusical
Orden --> EstadoOrden

enum EstadoOrden{
    PENDIENTE
    ENTREGADO
}

interface CajaMusical{
precio(): int
nombre(): string
tiempoEntregaEstimado(): date
reproducir(self)
}

class CajaDeCatalogo implements CajaMusical{
precio(): int
nombre(): string
tiempoEntregaEstimado(): date
reproducir(self)
}

class CajaPersonalizada implements CajaMusical{
Cliente cliente
String MIDI
Validacion validacion
Int longitudMelodia // en segundos
List<medioDeComunicacion> mediosComunicacion
precio(): int
nombre(): string
tiempoEntregaEstimado(): date
marcarComoValida()
marcarComoInvalida()
notificar(): void
reproducir(self)
cargar(melodia): void
}

CajaPersonalizada --> Validacion
CajaPersonalizada --> Orden

'enum con compartamiento
enum Validacion{
VALIDA
INVALIDA
marcarComoValida(): Validacion
marcarComoInvalida(): Validacion
}

interface MIDIConverter{
string convert(byte[] melody)
}

class AdapaterMIDIConverter implements MIDIConverter{
    convertir(melodia)
}

CajaPersonalizada --> AdapaterMIDIConverter
CajaPersonalizada -->"*" MedioDeComunicacion

interface MedioDeComunicacion{
    recibirNotificacion(validacion)
}

class MailSender implements MedioDeComunicacion{
send(adress, subject, body)
recibirNotificacion(validacion)
}

class Whatsapp implements MedioDeComunicacion{
(...)
recibirNotificacion(validacion)
}

Fabricante -->"*" Orden

class Fabricante{
string nombre
string direccion
int capacidadProduccion
List <Orden> ordenesAsignadas
puedeAceptar(unaOrden): boolean
asignar(unaOrden)
tiempoFabricacion(): int
getOrdenesAsignadas(): orden
}

@enduml